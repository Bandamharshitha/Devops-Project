<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blood Donation System | LifeStream</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #d32f2f;
      --primary-dark: #b71c1c;
      --secondary: #388e3c;
      --secondary-dark: #2e7d32;
      --accent: #1976d2;
      --accent-dark: #1565c0;
      --text: #333;
      --text-light: #666;
      --bg: #f8f9fa;
      --card-bg: #fff;
      --success: #4caf50;
      --warning: #ff9800;
      --danger: #f44336;
      --info: #2196F3;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    
    header {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      padding: 1.5rem;
      text-align: center;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: relative;
    }
    
    .header-content {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
      position: relative;
    }
    
    .logo {
      font-size: 2rem;
    }
    
    .admin-btn {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.2);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .admin-btn:hover {
      background: rgba(255, 255, 255, 0.3);
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }
    
    .hero {
      background: linear-gradient(rgba(211, 47, 47, 0.9), rgba(183, 28, 28, 0.9)), 
                  url('https://images.unsplash.com/photo-1579684385127-1ef15d508118?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
      background-size: cover;
      background-position: center;
      color: white;
      text-align: center;
      padding: 4rem 1rem;
      border-radius: 10px;
      margin-bottom: 2rem;
    }
    
    .btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 5px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
      display: inline-block;
      text-decoration: none;
    }
    
    .btn:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }
    
    .donation-steps {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin: 3rem 0;
    }
    
    .step-card {
      background: white;
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      text-align: center;
      transition: transform 0.3s ease;
    }
    
    .step-card:hover {
      transform: translateY(-10px);
    }
    
    .step-icon {
      font-size: 3rem;
      color: var(--primary);
      margin-bottom: 1rem;
    }
    
    .donation-form {
      background: white;
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      max-width: 1000px;
      margin: 3rem auto;
    }
    
    .form-section {
      margin-bottom: 2rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid #eee;
    }
    
    .section-title {
      color: var(--primary);
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--primary);
    }
    
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-row {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }
    
    .form-row .form-group {
      flex: 1 1 300px;
    }
    
    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }
    
    input, select, textarea {
      width: 100%;
      padding: 0.8rem;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
    }
    
    .checkbox-group, .radio-group {
      margin-bottom: 1rem;
    }
    
    .checkbox-group label, .radio-group label {
      display: flex;
      align-items: center;
      font-weight: normal;
      margin-bottom: 0.5rem;
      cursor: pointer;
    }
    
    input[type="checkbox"], input[type="radio"] {
      width: auto;
      margin-right: 0.5rem;
    }
    
    .symptoms-grid, .diseases-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 0.5rem;
      margin-top: 0.5rem;
    }
    
    .required {
      color: var(--danger);
    }
    
    .note {
      font-size: 0.9rem;
      color: var(--text-light);
      margin-top: 0.3rem;
    }
    
    /* Admin Panel Styles */
    #adminPanel {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 1000;
      display: none;
      justify-content: center;
      align-items: center;
    }
    
    .admin-panel-content {
      background: white;
      padding: 2rem;
      border-radius: 10px;
      width: 90%;
      max-width: 1200px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    }
    
    .admin-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #eee;
    }
    
    .donors-list {
      display: grid;
      gap: 1.5rem;
      margin: 1.5rem 0;
    }
    
    .donor-card {
      background: #f8f9fa;
      padding: 1.5rem;
      border-radius: 8px;
      border-left: 4px solid var(--primary);
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    
    .donor-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .donor-actions {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
      flex-wrap: wrap;
    }
    
    .status-badge {
      display: inline-block;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }
    
    .status-active {
      background: rgba(76, 175, 80, 0.1);
      color: var(--success);
      border: 1px solid var(--success);
    }
    
    .status-inactive {
      background: rgba(255, 152, 0, 0.1);
      color: var(--warning);
      border: 1px solid var(--warning);
    }
    
    .btn-success {
      background: var(--success);
    }
    
    .btn-warning {
      background: var(--warning);
    }
    
    .btn-danger {
      background: var(--danger);
    }
    
    .btn-info {
      background: var(--info);
    }
    
    .admin-controls {
      display: flex;
      justify-content: space-between;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .search-box {
      flex-grow: 1;
      min-width: 250px;
    }
    
    .stats-card {
      background: white;
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 2rem;
      border-top: 4px solid var(--primary);
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }
    
    .stat-item {
      text-align: center;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 8px;
    }
    
    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
      margin: 0.5rem 0;
    }
    
    /* Admin Login Modal */
    #adminLoginModal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 1001;
      display: none;
      justify-content: center;
      align-items: center;
    }
    
    .login-modal-content {
      background: white;
      padding: 2rem;
      border-radius: 8px;
      width: 90%;
      max-width: 400px;
    }
    
    .login-header {
      text-align: center;
      margin-bottom: 1.5rem;
    }
    
    .login-header i {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 1rem;
    }
    
    .form-actions {
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    
    /* Toast Notification */
    .toast {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--success);
      color: white;
      padding: 1rem 2rem;
      border-radius: 5px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      z-index: 1002;
      display: none;
    }
    
    .toast.error {
      background: var(--danger);
    }
    
    /* Donor Details Modal */
    #donorDetailsModal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 1002;
      display: none;
      justify-content: center;
      align-items: center;
    }
    
    .donor-details-content {
      background: white;
      padding: 2rem;
      border-radius: 10px;
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    }
    
    .details-section {
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #eee;
    }
    
    .details-row {
      display: flex;
      margin-bottom: 0.5rem;
    }
    
    .details-label {
      font-weight: 600;
      min-width: 180px;
    }
    
    /* Footer Styles */
    footer {
      background: #333;
      color: white;
      padding: 2rem 1rem;
      margin-top: 3rem;
    }
    
    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }
    
    .footer-section h3 {
      color: var(--primary);
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }
    
    .footer-section p, .footer-section li {
      margin-bottom: 0.5rem;
      color: #ccc;
    }
    
    .footer-section a {
      color: #ccc;
      text-decoration: none;
      transition: color 0.3s;
    }
    
    .footer-section a:hover {
      color: white;
    }
    
    .footer-bottom {
      max-width: 1200px;
      margin: 2rem auto 0;
      padding-top: 1rem;
      border-top: 1px solid #555;
      text-align: center;
      color: #999;
    }
    
    /* Responsive styles */
    @media (max-width: 768px) {
      .donation-steps {
        grid-template-columns: 1fr;
      }
      
      .donor-actions button {
        width: 100%;
      }
      
      .admin-controls {
        flex-direction: column;
      }
      
      .form-row {
        flex-direction: column;
        gap: 1rem;
      }
      
      .symptoms-grid, .diseases-grid {
        grid-template-columns: 1fr;
      }
      
      .details-row {
        flex-direction: column;
        margin-bottom: 1rem;
      }
      
      .details-label {
        min-width: auto;
        margin-bottom: 0.3rem;
      }
      
      .footer-content {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo">
        <i class="fas fa-tint"></i>
      </div>
      <h1>LifeStream Blood Donation</h1>
      <button class="admin-btn" id="adminButton" onclick="showAdminLogin()">
        <i class="fas fa-user-shield"></i>
      </button>
    </div>
  </header>

  <div class="container">
    <div class="hero">
      <h2 style="font-size: 2rem; margin-bottom: 1rem;">Give the Gift of Life</h2>
      <p style="font-size: 1.1rem; max-width: 700px; margin: 0 auto;">A single donation can save up to 3 lives. Join our community of heroes today.</p>
      <a href="#donate-now" class="btn" style="margin-top: 2rem;">Become a Donor</a>
    </div>

    <section class="donation-process">
      <h2 style="text-align: center; margin-bottom: 1rem;">The Donation Process</h2>
      <p style="text-align: center; max-width: 700px; margin: 0 auto 2rem; color: var(--text-light);">Donating blood is safe, simple, and takes less than an hour from start to finish.</p>
      
      <div class="donation-steps">
        <div class="step-card">
          <div class="step-icon">
            <i class="fas fa-clipboard-check"></i>
          </div>
          <h3>1. Registration</h3>
          <p>Complete a quick health history questionnaire and provide identification.</p>
        </div>
        
        <div class="step-card">
          <div class="step-icon">
            <i class="fas fa-stethoscope"></i>
          </div>
          <h3>2. Health Check</h3>
          <p>We'll check your temperature, pulse, blood pressure and hemoglobin level.</p>
        </div>
        
        <div class="step-card">
          <div class="step-icon">
            <i class="fas fa-tint"></i>
          </div>
          <h3>3. Donation</h3>
          <p>The actual donation takes just 8-10 minutes for whole blood donation.</p>
        </div>
        
        <div class="step-card">
          <div class="step-icon">
            <i class="fas fa-utensils"></i>
          </div>
          <h3>4. Refreshment</h3>
          <p>Enjoy snacks and drinks while you rest for 10-15 minutes before leaving.</p>
        </div>
      </div>
    </section>

    <section id="donate-now" class="donation-form">
      <h2 style="text-align: center; margin-bottom: 2rem;">Register as a Donor</h2>
      
      <form id="donorForm">
        <!-- Personal Details Section -->
        <div class="form-section">
          <h3 class="section-title">Personal Details</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label for="fullName">Full Name <span class="required">*</span></label>
              <input type="text" id="fullName" required>
            </div>
            
            <div class="form-group">
              <label for="email">Email Address <span class="required">*</span></label>
              <input type="email" id="email" required>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="phone">Phone Number <span class="required">*</span></label>
              <input type="tel" id="phone" required>
            </div>
            
            <div class="form-group">
              <label for="age">Age <span class="required">*</span></label>
              <input type="number" id="age" min="18" max="65" required>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="gender">Gender <span class="required">*</span></label>
              <select id="gender" required>
                <option value="">Select Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="bloodType">Blood Type <span class="required">*</span></label>
              <select id="bloodType" required>
                <option value="">Select your blood type</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
              </select>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="height">Height (cm) <span class="required">*</span></label>
              <input type="number" id="height" min="140" max="220" required>
            </div>
            
            <div class="form-group">
              <label for="weight">Weight (kg) <span class="required">*</span></label>
              <input type="number" id="weight" min="45" required>
              <div class="note">Minimum weight for blood donation is 45kg</div>
            </div>
          </div>
        </div>
        
        <!-- Health Information Section -->
        <div class="form-section">
          <h3 class="section-title">Health Information</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label>Do you have diabetes? <span class="required">*</span></label>
              <div class="radio-group">
                <label><input type="radio" name="diabetes" value="yes" required> Yes</label>
                <label><input type="radio" name="diabetes" value="no"> No</label>
              </div>
            </div>
            
            <div class="form-group">
              <label>Do you smoke? <span class="required">*</span></label>
              <div class="radio-group">
                <label><input type="radio" name="smoking" value="yes" required> Yes</label>
                <label><input type="radio" name="smoking" value="no"> No</label>
              </div>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="hemoglobin">Hemoglobin Count (if known)</label>
              <input type="text" id="hemoglobin">
            </div>
            
            <div class="form-group">
              <label for="bloodPressure">Blood Pressure (if known)</label>
              <input type="text" id="bloodPressure" placeholder="e.g., 120/80">
            </div>
          </div>
          
          <div class="form-group">
            <label>Do you suffer from or have suffered from any of the following diseases? <span class="required">*</span></label>
            <div class="diseases-grid">
              <label><input type="checkbox" name="diseases" value="none" id="noDiseases"> No diseases</label>
              <label><input type="checkbox" name="diseases" value="heart"> Heart Disease</label>
              <label><input type="checkbox" name="diseases" value="lung"> Lung Disease</label>
              <label><input type="checkbox" name="diseases" value="kidney"> Kidney Disease</label>
              <label><input type="checkbox" name="diseases" value="cancer"> Cancer/Malignant Disease</label>
              <label><input type="checkbox" name="diseases" value="epilepsy"> Epilepsy</label>
              <label><input type="checkbox" name="diseases" value="tuberculosis"> Tuberculosis</label>
              <label><input type="checkbox" name="diseases" value="bleeding"> Abnormal bleeding tendency</label>
              <label><input type="checkbox" name="diseases" value="hepatitis"> Hepatitis B/C</label>
              <label><input type="checkbox" name="diseases" value="allergic"> Allergic Disease</label>
              <label><input type="checkbox" name="diseases" value="jaundice"> Jaundice</label>
              <label><input type="checkbox" name="diseases" value="std"> Sexually Transmitted Disease</label>
              <label><input type="checkbox" name="diseases" value="malaria"> Malaria</label>
              <label><input type="checkbox" name="diseases" value="typhoid"> Typhoid (Last 1 year)</label>
              <label><input type="checkbox" name="diseases" value="fainting"> Fainting Spells</label>
            </div>
          </div>
          
          <div class="form-group">
            <label>Current symptoms (if any)</label>
            <div class="symptoms-grid">
              <label><input type="checkbox" name="symptoms" value="fever"> Fever</label>
              <label><input type="checkbox" name="symptoms" value="cough"> Cough</label>
              <label><input type="checkbox" name="symptoms" value="cold"> Cold</label>
              <label><input type="checkbox" name="symptoms" value="headache"> Headache</label>
              <label><input type="checkbox" name="symptoms" value="weightloss"> Unexplained Weight Loss</label>
              <label><input type="checkbox" name="symptoms" value="diarrhea"> Repeated Diarrhea</label>
              <label><input type="checkbox" name="symptoms" value="glands"> Swollen Glands</label>
              <label><input type="checkbox" name="symptoms" value="fever"> Continuous Low-Grade Fever</label>
            </div>
          </div>
          
          <div class="form-group">
            <label>Is there any history of surgery or blood transfusion in the past 6 months?</label>
            <div class="radio-group">
              <label><input type="radio" name="surgery" value="major"> Major Surgery</label>
              <label><input type="radio" name="surgery" value="transfusion"> Blood Transfusion</label>
              <label><input type="radio" name="surgery" value="none"> None</label>
            </div>
          </div>
          
          <div class="form-group">
            <label>Do you have any reason to believe that you may be infected by either Hepatitis, Malaria, HIV/AIDS, and/or Venereal Disease? <span class="required">*</span></label>
            <div class="radio-group">
              <label><input type="radio" name="infectionRisk" value="yes" required> Yes</label>
              <label><input type="radio" name="infectionRisk" value="no"> No</label>
            </div>
          </div>
        </div>
        
        <!-- Identification Section -->
        <div class="form-section">
          <h3 class="section-title">Identification</h3>
          
          <div class="form-row">
            <div class="form-group">
              <label for="idType">ID Proof Type <span class="required">*</span></label>
              <select id="idType" required>
                <option value="">Select ID Type</option>
                <option value="aadhaar">Aadhaar Card</option>
                <option value="passport">Passport</option>
                <option value="driving">Driving License</option>
                <option value="voter">Voter ID</option>
                <option value="other">Other Government ID</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="idNumber">ID Number <span class="required">*</span></label>
              <input type="text" id="idNumber" required>
            </div>
          </div>
          
          <div class="form-group">
            <label for="idUpload">Upload ID Proof (Optional)</label>
            <input type="file" id="idUpload">
          </div>
        </div>
        
        <!-- Donation History Section -->
        <div class="form-section">
          <h3 class="section-title">Donation History</h3>
          
          <div class="form-group">
            <label>Have you donated blood previously? <span class="required">*</span></label>
            <div class="radio-group">
              <label><input type="radio" name="prevDonation" value="yes" required> Yes</label>
              <label><input type="radio" name="prevDonation" value="no"> No</label>
            </div>
          </div>
          
          <div class="form-row" id="lastDonationDetails" style="display: none;">
            <div class="form-group">
              <label for="lastDonationDate">Last Donation Date</label>
              <input type="date" id="lastDonationDate">
            </div>
            
            <div class="form-group">
              <label for="lastDonationPlace">Last Donation Place</label>
              <input type="text" id="lastDonationPlace">
            </div>
          </div>
        </div>
        
        <!-- Location Preferences -->
        <div class="form-section">
          <h3 class="section-title">Location Preferences</h3>
          
          <div class="form-group">
            <label for="location">Preferred Donation Center <span class="required">*</span></label>
            <select id="location" required>
              <option value="">Select nearest center</option>
              <option value="Bangalore Central">Bangalore Central</option>
              <option value="Chennai South">Chennai South</option>
              <option value="Delhi North">Delhi North</option>
              <option value="Mumbai West">Mumbai West</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="availability">Preferred Donation Days/Times</label>
            <select id="availability" multiple>
              <option value="Weekday Mornings">Weekday Mornings</option>
              <option value="Weekday Afternoons">Weekday Afternoons</option>
              <option value="Weekday Evenings">Weekday Evenings</option>
              <option value="Weekend Mornings">Weekend Mornings</option>
              <option value="Weekend Afternoons">Weekend Afternoons</option>
            </select>
            <small style="display: block; margin-top: 0.3rem; color: var(--text-light);">Hold Ctrl/Cmd to select multiple options</small>
          </div>
        </div>
        
        <!-- Declaration Section -->
        <div class="form-section">
          <h3 class="section-title">Declaration</h3>
          
          <div class="form-group">
            <label for="healthDeclaration">I declare that I am in good health and meet all the eligibility criteria for blood donation. <span class="required">*</span></label>
            <div class="radio-group">
              <label><input type="radio" name="healthDeclaration" value="yes" required> Yes</label>
              <label><input type="radio" name="healthDeclaration" value="no"> No</label>
            </div>
          </div>
          
          <div class="form-group">
            <label for="consent">
              <input type="checkbox" id="consent" required>
              I confirm that all information provided is accurate and I meet eligibility criteria. <span class="required">*</span>
            </label>
          </div>
        </div>
        
        <button type="submit" class="btn">Submit Donor Registration</button>
      </form>
    </section>
  </div>


  <!-- Admin Panel -->
  <div id="adminPanel">
    <div class="admin-panel-content">
      <div class="admin-header">
        <h2>Donor Management System</h2>
        <button onclick="closeAdminPanel()" class="btn-danger">
          <i class="fas fa-times"></i> Close
        </button>
      </div>
      
      <div class="stats-card">
        <h3>Donation Center Statistics</h3>
        <div class="stats-grid">
          <div class="stat-item">
            <div>Total Donors</div>
            <div class="stat-value" id="totalDonors">0</div>
          </div>
          <div class="stat-item">
            <div>Active Donors</div>
            <div class="stat-value" id="activeDonors">0</div>
          </div>
          <div class="stat-item">
            <div>Total Donations</div>
            <div class="stat-value" id="totalDonations">0</div>
          </div>
          <div class="stat-item">
            <div>Blood Collected</div>
            <div class="stat-value" id="totalBlood">0ml</div>
          </div>
        </div>
      </div>
      
      <div class="admin-controls">
        <div class="search-box">
          <input type="text" id="searchDonors" placeholder="Search donors by name, email or phone..." style="width: 100%;">
        </div>
        <div class="filter-controls">
          <select id="filterStatus" onchange="filterDonors()">
            <option value="all">All Statuses</option>
            <option value="Active">Active</option>
            <option value="Inactive">Inactive</option>
          </select>
          <select id="filterBloodType" onchange="filterDonors()">
            <option value="all">All Blood Types</option>
            <option value="A+">A+</option>
            <option value="A-">A-</option>
            <option value="B+">B+</option>
            <option value="B-">B-</option>
            <option value="O+">O+</option>
            <option value="O-">O-</option>
            <option value="AB+">AB+</option>
            <option value="AB-">AB-</option>
          </select>
          <select id="filterLocation" onchange="filterDonors()">
            <option value="all">All Locations</option>
            <option value="Bangalore Central">Bangalore</option>
            <option value="Chennai South">Chennai</option>
            <option value="Delhi North">Delhi</option>
            <option value="Mumbai West">Mumbai</option>
          </select>
        </div>
      </div>
      
      <div class="donors-list" id="donorsList">
        <!-- Donors will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Admin Login Modal -->
  <div id="adminLoginModal">
    <div class="login-modal-content">
      <div class="login-header">
        <i class="fas fa-user-shield"></i>
        <h2>Admin Login</h2>
      </div>
      <form id="loginForm">
        <div class="form-group">
          <label for="adminPassword">Password *</label>
          <input type="password" id="adminPassword" required placeholder="Enter admin password">
        </div>
        <div class="form-actions">
          <button type="button" class="btn-danger" onclick="closeModal('adminLoginModal')">Cancel</button>
          <button type="submit" class="btn-success">Login</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Donor Details Modal -->
  <div id="donorDetailsModal">
    <div class="donor-details-content">
      <div class="admin-header">
        <h2>Donor Details</h2>
        <button onclick="closeModal('donorDetailsModal')" class="btn-danger">
          <i class="fas fa-times"></i> Close
        </button>
      </div>
      
      <div id="donorDetailsContent">
        <!-- Donor details will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div class="toast" id="toast"></div>

  <script>
    // ADMIN PASSWORD - Change this in production!
    const ADMIN_PASSWORD = "admin123";
    
    // Initialize bloodDonors in localStorage if not exists
    if (!localStorage.getItem('bloodDonors')) {
      localStorage.setItem('bloodDonors', JSON.stringify([]));
    }

    // Show admin login modal
    function showAdminLogin() {
      document.getElementById('adminLoginModal').style.display = 'flex';
    }

    // Close modal function
    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
    }

    // Close admin panel
    function closeAdminPanel() {
      document.getElementById('adminPanel').style.display = 'none';
    }

    // Show toast notification
    function showToast(message, type = 'success') {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.className = type === 'error' ? 'toast error' : 'toast';
      toast.style.display = 'block';
      
      setTimeout(() => {
        toast.style.display = 'none';
      }, 3000);
    }

    // Handle login form submission
    document.getElementById('loginForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const password = document.getElementById('adminPassword').value;
      
      if (password === ADMIN_PASSWORD) {
        closeModal('adminLoginModal');
        document.getElementById('adminPanel').style.display = 'flex';
        loadDonors();
        updateStats();
      } else {
        showToast('Invalid password!', 'error');
      }
    });

    // Handle diseases checkbox logic
    function setupDiseasesCheckboxes() {
      const noDiseasesCheckbox = document.getElementById('noDiseases');
      const otherDiseasesCheckboxes = document.querySelectorAll('input[name="diseases"]:not(#noDiseases)');
      
      // When "No diseases" is checked, uncheck all others
      noDiseasesCheckbox.addEventListener('change', function() {
        if (this.checked) {
          otherDiseasesCheckboxes.forEach(cb => {
            cb.checked = false;
            cb.disabled = true;
          });
        } else {
          otherDiseasesCheckboxes.forEach(cb => {
            cb.disabled = false;
          });
        }
      });
      
      // When any other disease is checked, uncheck "No diseases"
      otherDiseasesCheckboxes.forEach(cb => {
        cb.addEventListener('change', function() {
          if (this.checked) {
            noDiseasesCheckbox.checked = false;
            noDiseasesCheckbox.disabled = true;
          } else {
            // If no diseases are checked, enable "No diseases" option
            const anyChecked = Array.from(otherDiseasesCheckboxes).some(cb => cb.checked);
            if (!anyChecked) {
              noDiseasesCheckbox.disabled = false;
            }
          }
        });
      });
    }

    // Handle donor form submission
    document.getElementById('donorForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Basic validation
      if (!validateForm()) {
        showToast('Please fill all required fields correctly!', 'error');
        return;
      }
      
      // Get selected diseases
      const diseaseCheckboxes = document.querySelectorAll('input[name="diseases"]:checked');
      const diseases = Array.from(diseaseCheckboxes).map(cb => cb.value);
      
      // Create donor object
      const donor = {
        id: Date.now().toString(),
        fullName: document.getElementById('fullName').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        age: document.getElementById('age').value,
        gender: document.getElementById('gender').value,
        bloodType: document.getElementById('bloodType').value,
        height: document.getElementById('height').value,
        weight: document.getElementById('weight').value,
        diabetes: document.querySelector('input[name="diabetes"]:checked').value,
        smoking: document.querySelector('input[name="smoking"]:checked').value,
        hemoglobin: document.getElementById('hemoglobin').value,
        bloodPressure: document.getElementById('bloodPressure').value,
        diseases: diseases,
        symptoms: Array.from(document.querySelectorAll('input[name="symptoms"]:checked')).map(cb => cb.value),
        surgery: document.querySelector('input[name="surgery"]:checked')?.value || 'none',
        infectionRisk: document.querySelector('input[name="infectionRisk"]:checked').value,
        idType: document.getElementById('idType').value,
        idNumber: document.getElementById('idNumber').value,
        prevDonation: document.querySelector('input[name="prevDonation"]:checked').value,
        lastDonationDate: document.getElementById('lastDonationDate').value,
        lastDonationPlace: document.getElementById('lastDonationPlace').value,
        location: document.getElementById('location').value,
        availability: Array.from(document.getElementById('availability').selectedOptions).map(opt => opt.value),
        healthDeclaration: document.querySelector('input[name="healthDeclaration"]:checked').value,
        status: 'Active',
        registrationDate: new Date().toISOString().split('T')[0]
      };
      
      // Save donor to localStorage
      const donors = JSON.parse(localStorage.getItem('bloodDonors'));
      donors.push(donor);
      localStorage.setItem('bloodDonors', JSON.stringify(donors));
      
      // Reset form
      document.getElementById('donorForm').reset();
      
      // Reset disease checkboxes state
      document.querySelectorAll('input[name="diseases"]').forEach(cb => {
        cb.disabled = false;
      });
      
      // Show success message
      showToast('Thank you for registering as a blood donor!');
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Toggle last donation details based on previous donation selection
    document.querySelectorAll('input[name="prevDonation"]').forEach(radio => {
      radio.addEventListener('change', function() {
        const lastDonationDetails = document.getElementById('lastDonationDetails');
        lastDonationDetails.style.display = this.value === 'yes' ? 'block' : 'none';
      });
    });

    // Form validation function
    function validateForm() {
      // Check required fields
      const requiredFields = document.querySelectorAll('[required]');
      for (let field of requiredFields) {
        if (!field.value) return false;
      }
      
      // Check age requirement
      const age = parseInt(document.getElementById('age').value);
      if (age < 18 || age > 65) {
        showToast('Age must be between 18 and 65 to donate blood.', 'error');
        return false;
      }
      
      // Check weight requirement
      const weight = parseInt(document.getElementById('weight').value);
      if (weight < 45) {
        showToast('Minimum weight for blood donation is 45kg.', 'error');
        return false;
      }
      
      // Check if at least one disease option is selected (including "none")
      const diseaseCheckboxes = document.querySelectorAll('input[name="diseases"]:checked');
      if (diseaseCheckboxes.length === 0) {
        showToast('Please select at least one option in the diseases section.', 'error');
        return false;
      }
      
      return true;
    }

    // Load donors for admin panel
    function loadDonors() {
      const donors = JSON.parse(localStorage.getItem('bloodDonors'));
      const donorsList = document.getElementById('donorsList');
      const searchTerm = document.getElementById('searchDonors').value.toLowerCase();
      const statusFilter = document.getElementById('filterStatus').value;
      const bloodTypeFilter = document.getElementById('filterBloodType').value;
      const locationFilter = document.getElementById('filterLocation').value;
      
      // Filter donors
      const filteredDonors = donors.filter(donor => {
        const matchesSearch = donor.fullName.toLowerCase().includes(searchTerm) || 
                             donor.email.toLowerCase().includes(searchTerm) || 
                             donor.phone.includes(searchTerm);
        const matchesStatus = statusFilter === 'all' || donor.status === statusFilter;
        const matchesBloodType = bloodTypeFilter === 'all' || donor.bloodType === bloodTypeFilter;
        const matchesLocation = locationFilter === 'all' || donor.location === locationFilter;
        
        return matchesSearch && matchesStatus && matchesBloodType && matchesLocation;
      });
      
      // Display donors
      donorsList.innerHTML = '';
      
      if (filteredDonors.length === 0) {
        donorsList.innerHTML = '<p style="text-align: center; padding: 2rem;">No donors found matching your criteria.</p>';
        return;
      }
      
      filteredDonors.forEach(donor => {
        const donorCard = document.createElement('div');
        donorCard.className = 'donor-card';
        donorCard.innerHTML = `
          <div class="donor-header">
            <div>
              <h3>${donor.fullName}</h3>
              <p>${donor.bloodType} | ${donor.age} years | ${donor.gender}</p>
            </div>
            <span class="status-badge status-${donor.status.toLowerCase()}">${donor.status}</span>
          </div>
          <p><i class="fas fa-envelope"></i> ${donor.email} | <i class="fas fa-phone"></i> ${donor.phone}</p>
          <p><i class="fas fa-map-marker-alt"></i> ${donor.location}</p>
          <div class="donor-actions">
            <button class="btn btn-info" onclick="viewDonorDetails('${donor.id}')">
              <i class="fas fa-eye"></i> View Details
            </button>
            <button class="btn ${donor.status === 'Active' ? 'btn-warning' : 'btn-success'}" 
                    onclick="toggleDonorStatus('${donor.id}')">
              <i class="fas ${donor.status === 'Active' ? 'fa-pause' : 'fa-play'}"></i> 
              ${donor.status === 'Active' ? 'Deactivate' : 'Activate'}
            </button>
            <button class="btn btn-danger" onclick="deleteDonor('${donor.id}')">
              <i class="fas fa-trash"></i> Delete
            </button>
          </div>
        `;
        donorsList.appendChild(donorCard);
      });
    }

    // Update statistics in admin panel
    function updateStats() {
      const donors = JSON.parse(localStorage.getItem('bloodDonors'));
      const activeDonors = donors.filter(donor => donor.status === 'Active');
      
      document.getElementById('totalDonors').textContent = donors.length;
      document.getElementById('activeDonors').textContent = activeDonors.length;
      document.getElementById('totalDonations').textContent = donors.filter(d => d.prevDonation === 'yes').length;
      document.getElementById('totalBlood').textContent = (donors.length * 350) + 'ml'; // Assuming 350ml per donation
    }

    // Filter donors based on search and filters
    function filterDonors() {
      loadDonors();
    }

    // View donor details
    function viewDonorDetails(donorId) {
      const donors = JSON.parse(localStorage.getItem('bloodDonors'));
      const donor = donors.find(d => d.id === donorId);
      
      if (!donor) {
        showToast('Donor not found!', 'error');
        return;
      }
      
      const detailsContent = document.getElementById('donorDetailsContent');
      detailsContent.innerHTML = `
        <div class="details-section">
          <h3>Personal Information</h3>
          <div class="details-row">
            <span class="details-label">Full Name:</span>
            <span>${donor.fullName}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Email:</span>
            <span>${donor.email}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Phone:</span>
            <span>${donor.phone}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Age:</span>
            <span>${donor.age} years</span>
          </div>
          <div class="details-row">
            <span class="details-label">Gender:</span>
            <span>${donor.gender}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Blood Type:</span>
            <span>${donor.bloodType}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Height/Weight:</span>
            <span>${donor.height} cm / ${donor.weight} kg</span>
          </div>
        </div>
        
        <div class="details-section">
          <h3>Health Information</h3>
          <div class="details-row">
            <span class="details-label">Diabetes:</span>
            <span>${donor.diabetes}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Smoking:</span>
            <span>${donor.smoking}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Hemoglobin:</span>
            <span>${donor.hemoglobin || 'Not provided'}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Blood Pressure:</span>
            <span>${donor.bloodPressure || 'Not provided'}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Diseases:</span>
            <span>${donor.diseases.length > 0 ? donor.diseases.join(', ') : 'None reported'}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Symptoms:</span>
            <span>${donor.symptoms.length > 0 ? donor.symptoms.join(', ') : 'None reported'}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Surgery/Transfusion:</span>
            <span>${donor.surgery}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Infection Risk:</span>
            <span>${donor.infectionRisk}</span>
          </div>
        </div>
        
        <div class="details-section">
          <h3>Identification & Location</h3>
          <div class="details-row">
            <span class="details-label">ID Type:</span>
            <span>${donor.idType}</span>
          </div>
          <div class="details-row">
            <span class="details-label">ID Number:</span>
            <span>${donor.idNumber}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Preferred Center:</span>
            <span>${donor.location}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Availability:</span>
            <span>${donor.availability.join(', ') || 'Not specified'}</span>
          </div>
        </div>
        
        <div class="details-section">
          <h3>Donation History</h3>
          <div class="details-row">
            <span class="details-label">Previous Donation:</span>
            <span>${donor.prevDonation}</span>
          </div>
          ${donor.prevDonation === 'yes' ? `
          <div class="details-row">
            <span class="details-label">Last Donation Date:</span>
            <span>${donor.lastDonationDate || 'Not provided'}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Last Donation Place:</span>
            <span>${donor.lastDonationPlace || 'Not provided'}</span>
          </div>
          ` : ''}
          <div class="details-row">
            <span class="details-label">Registration Date:</span>
            <span>${donor.registrationDate}</span>
          </div>
          <div class="details-row">
            <span class="details-label">Status:</span>
            <span class="status-badge status-${donor.status.toLowerCase()}">${donor.status}</span>
          </div>
        </div>
      `;
      
      document.getElementById('donorDetailsModal').style.display = 'flex';
    }

    // Toggle donor status (Active/Inactive)
    function toggleDonorStatus(donorId) {
      const donors = JSON.parse(localStorage.getItem('bloodDonors'));
      const donorIndex = donors.findIndex(d => d.id === donorId);
      
      if (donorIndex !== -1) {
        donors[donorIndex].status = donors[donorIndex].status === 'Active' ? 'Inactive' : 'Active';
        localStorage.setItem('bloodDonors', JSON.stringify(donors));
        loadDonors();
        updateStats();
        showToast(`Donor status updated to ${donors[donorIndex].status}`);
      }
    }

    // Delete donor
    function deleteDonor(donorId) {
      if (!confirm('Are you sure you want to delete this donor?')) return;
      
      const donors = JSON.parse(localStorage.getItem('bloodDonors'));
      const updatedDonors = donors.filter(d => d.id !== donorId);
      localStorage.setItem('bloodDonors', JSON.stringify(updatedDonors));
      loadDonors();
      updateStats();
      showToast('Donor deleted successfully');
    }

    // Initialize search functionality
    document.getElementById('searchDonors').addEventListener('input', loadDonors);

    // Initialize previous donation toggle
    document.querySelectorAll('input[name="prevDonation"]').forEach(radio => {
      radio.addEventListener('change', function() {
        document.getElementById('lastDonationDetails').style.display = 
          this.value === 'yes' ? 'block' : 'none';
      });
    });

    // Initialize diseases checkbox logic
    document.addEventListener('DOMContentLoaded', function() {
      setupDiseasesCheckboxes();
    });
  </script>
  <iframe src="footer.html" style="width:100%; height:300px; border:none;"></iframe>
</body>
</html>